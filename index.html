<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DJ Megatron Records - Spatial Media Experience</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1e90ff;
            --secondary: #ff4500;
            --accent: #ff6b6b;
            --dark: #000000;
            --light: #ffffff;
            --gray: #a0a0a0;
            --card-bg: rgba(30, 30, 30, 0.8);
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s ease;
            --ease-out: cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
            --glass: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: var(--dark);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
            background: radial-gradient(circle at top, #000000, #0a0a0a);
            touch-action: manipulation;
            perspective: 1000px;
        }

        /* Skip link for accessibility */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: var(--secondary);
            color: white;
            padding: 8px 12px;
            text-decoration: none;
            border-radius: 4px;
            z-index: 10000;
            font-weight: 600;
        }

        .skip-link:focus {
            top: 6px;
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* Enhanced INTRO ANIMATION */
        #intro {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--dark);
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 1000;
            animation: fadeOut 1s var(--ease-out) 2.5s forwards;
        }

        #intro h1 {
            font-size: 4rem;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: pulse 2s infinite alternate, slideInUp 1s var(--ease-out);
            margin-bottom: 20px;
        }

        #intro p {
            color: var(--secondary);
            margin-top: 10px;
            font-size: 1.3rem;
            animation: fadeIn 2s ease, bounceIn 1s var(--bounce) 0.5s both;
        }

        .loading-dots {
            display: flex;
            gap: 8px;
            margin-top: 20px;
        }

        .loading-dots span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--primary);
            animation: loadingDot 1.4s ease-in-out infinite both;
        }

        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }

        @keyframes loadingDot {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1.2); opacity: 1; }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounceIn {
            from {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }

        @keyframes pulse {
            from {
                opacity: 0.5;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1.05);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Enhanced Header with Glass Morphism */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            position: relative;
            animation: slideDown 1s var(--ease-out) 2.8s both;
            opacity: 0;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo {
            display: inline-block;
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(30, 144, 255, 0.5);
            letter-spacing: 2px;
            transform: translateZ(0);
        }

        .logo-subtitle {
            font-size: 1.5rem;
            color: var(--gray);
            margin-bottom: 10px;
            letter-spacing: 3px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--gray);
            opacity: 0.9;
        }

        /* Enhanced Navigation with Glass Effect */
        nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
            animation: fadeInUp 1s var(--ease-out) 3s both;
            opacity: 0;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .nav-btn {
            background: var(--glass);
            backdrop-filter: blur(10px);
            color: var(--light);
            border: 1px solid var(--glass-border);
            padding: 15px 30px;
            border-radius: 16px;
            text-decoration: none;
            font-size: 1rem;
            transition: all 0.4s var(--bounce);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            min-height: 44px;
            position: relative;
            overflow: hidden;
        }

        .nav-btn:focus {
            outline: 2px solid var(--secondary);
            outline-offset: 2px;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.6s;
        }

        .nav-btn:hover::before {
            left: 100%;
        }

        .nav-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 25px rgba(255, 69, 0, 0.3);
            border-color: rgba(255, 69, 0, 0.3);
        }

        .nav-btn:active {
            transform: translateY(-1px) scale(0.98);
            transition: all 0.1s ease;
        }

        /* Enhanced Content Toggle */
        .content-toggle {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            gap: 15px;
            animation: fadeInUp 1s var(--ease-out) 3.1s both;
            opacity: 0;
        }
        
        .content-btn {
            background: var(--glass);
            backdrop-filter: blur(10px);
            color: var(--light);
            border: 1px solid var(--glass-border);
            padding: 15px 25px;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s var(--ease-out);
            font-size: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            min-height: 44px;
            position: relative;
            overflow: hidden;
        }

        .content-btn:focus {
            outline: 2px solid var(--secondary);
            outline-offset: 2px;
        }

        .content-btn::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 3px;
            background: var(--secondary);
            transition: all 0.3s var(--ease-out);
            transform: translateX(-50%);
        }
        
        .content-btn.active {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            box-shadow: 0 0 20px rgba(255, 69, 0, 0.6);
            transform: translateY(-2px);
        }

        .content-btn.active::after {
            width: 80%;
        }

        .content-btn:active {
            transform: scale(0.95);
            transition: all 0.1s ease;
        }

        /* Enhanced Search + Controls */
        .controls {
            margin: 20px 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            animation: fadeInUp 1s var(--ease-out) 3.2s both;
            opacity: 0;
        }

        .search-box {
            width: 80%;
            max-width: 400px;
            padding: 15px 25px;
            border-radius: 16px;
            border: 1px solid var(--glass-border);
            outline: none;
            text-align: center;
            font-size: 1rem;
            color: var(--light);
            background: var(--glass);
            backdrop-filter: blur(10px);
            transition: all 0.3s var(--ease-out);
            min-height: 44px;
        }

        .search-box:focus {
            box-shadow: 0 0 25px rgba(255, 69, 0, 0.3);
            border-color: var(--secondary);
            transform: scale(1.02);
            outline: none;
        }

        .search-box::placeholder {
            color: var(--gray);
            transition: color 0.3s ease;
        }

        .search-box:focus::placeholder {
            color: transparent;
        }

        .shuffle-btn {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            color: var(--light);
            padding: 15px 25px;
            border-radius: 16px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.4s var(--bounce);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            min-height: 44px;
        }

        .shuffle-btn:focus {
            outline: 2px solid var(--secondary);
            outline-offset: 2px;
        }

        .shuffle-btn:hover {
            transform: scale(1.05) rotate(5deg);
            box-shadow: 0 0 25px rgba(255, 69, 0, 0.3);
            border-color: rgba(255, 69, 0, 0.3);
        }

        .shuffle-btn:active {
            transform: scale(0.95) rotate(0deg);
            transition: all 0.1s ease;
        }

        /* Enhanced Skeleton Loading */
        .skeleton-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .skeleton-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--glass-border);
            animation: skeletonPulse 2s ease-in-out infinite;
        }

        .skeleton-cover {
            width: 100%;
            height: 250px;
            background: linear-gradient(90deg, rgba(30, 144, 255, 0.1) 25%, rgba(255, 69, 0, 0.1) 50%, rgba(30, 144, 255, 0.1) 75%);
            background-size: 200% 100%;
            animation: skeletonShine 2s infinite;
        }

        .skeleton-info {
            padding: 20px;
        }

        .skeleton-title {
            height: 24px;
            background: rgba(30, 144, 255, 0.2);
            border-radius: 6px;
            margin-bottom: 12px;
            animation: skeletonShine 2s infinite 0.2s;
        }

        .skeleton-details {
            display: flex;
            justify-content: space-between;
        }

        .skeleton-detail {
            height: 16px;
            width: 40%;
            background: rgba(30, 144, 255, 0.15);
            border-radius: 4px;
            animation: skeletonShine 2s infinite 0.4s;
        }

        @keyframes skeletonPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        @keyframes skeletonShine {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        /* Enhanced Albums Grid with 3D Effects */
        .albums-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
            animation: fadeInUp 1s var(--ease-out) 3.3s both;
            opacity: 0;
        }

        .album-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.4s var(--ease-out);
            cursor: pointer;
            border: 1px solid var(--glass-border);
            transform: translateY(20px) scale(0.95);
            opacity: 0;
            animation: cardAppear 0.6s var(--ease-out) forwards;
            position: relative;
            transform-style: preserve-3d;
            transform: translateZ(0);
            backface-visibility: hidden;
        }

        @keyframes cardAppear {
            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        .album-card:nth-child(1) { animation-delay: 3.4s; }
        .album-card:nth-child(2) { animation-delay: 3.5s; }
        .album-card:nth-child(3) { animation-delay: 3.6s; }
        .album-card:nth-child(4) { animation-delay: 3.7s; }
        .album-card:nth-child(5) { animation-delay: 3.8s; }

        .album-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255, 69, 0, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.4s ease;
            pointer-events: none;
        }

        .album-card:hover {
            transform: translateY(-10px) scale(1.02) rotateX(5deg);
            box-shadow: 0 20px 40px rgba(255, 69, 0, 0.3);
            border-color: var(--secondary);
        }

        .album-card:hover::before {
            opacity: 1;
        }

        .album-card:active {
            transform: translateY(-5px) scale(0.98);
            transition: all 0.1s ease;
        }

        .album-cover {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-bottom: 1px solid var(--glass-border);
            transition: transform 0.4s var(--ease-out);
        }

        .album-card:hover .album-cover {
            transform: scale(1.05);
        }

        .album-info {
            padding: 20px;
        }

        .album-title {
            font-size: 1.4rem;
            margin-bottom: 8px;
            color: var(--primary);
            font-weight: 700;
            transition: color 0.3s ease;
        }

        .album-card:hover .album-title {
            color: var(--secondary);
        }

        .album-details {
            display: flex;
            justify-content: space-between;
            color: var(--gray);
            font-size: 0.9rem;
        }

        .album-stats {
            display: flex;
            gap: 15px;
            margin-top: 8px;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8rem;
            color: var(--gray);
        }

        /* Enhanced Album Detail View */
        .album-detail {
            display: none;
            margin-bottom: 40px;
            animation: slideInUp 0.8s var(--ease-out);
        }

        .album-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--glass-border);
            transform: translateY(20px);
            opacity: 0;
            animation: slideInUp 0.6s var(--ease-out) 0.2s forwards;
        }

        .detail-cover {
            width: 250px;
            height: 250px;
            border-radius: 16px;
            object-fit: cover;
            margin-right: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
            border: 3px solid var(--primary);
            transition: transform 0.4s var(--ease-out);
        }

        .album-header:hover .detail-cover {
            transform: scale(1.03) rotate(2deg);
        }

        .album-meta {
            flex: 1;
        }

        .detail-title {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--primary);
            font-weight: 700;
        }

        .detail-subtitle {
            font-size: 1.2rem;
            color: var(--secondary);
            margin-bottom: 15px;
        }

        .detail-stats {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .detail-stat {
            background: rgba(30, 144, 255, 0.1);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: var(--primary);
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .detail-stat:hover {
            background: rgba(255, 69, 0, 0.2);
            transform: translateY(-2px);
        }

        .back-btn {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border: none;
            color: var(--light);
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s var(--bounce);
            display: flex;
            align-items: center;
            gap: 8px;
            min-height: 44px;
        }

        .back-btn:focus {
            outline: 2px solid var(--light);
            outline-offset: 2px;
        }

        .back-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 20px rgba(255, 69, 0, 0.4);
        }

        .back-btn:active {
            transform: translateY(0) scale(0.95);
        }

        /* Enhanced Tracks & Videos Grid */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .content-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s var(--ease-out);
            cursor: pointer;
            border: 1px solid var(--glass-border);
            position: relative;
            transform: translateY(10px);
            opacity: 0;
            animation: slideInUp 0.5s var(--ease-out) forwards;
            transform: translateZ(0);
            backface-visibility: hidden;
        }

        .content-card:nth-child(1) { animation-delay: 0.1s; }
        .content-card:nth-child(2) { animation-delay: 0.2s; }
        .content-card:nth-child(3) { animation-delay: 0.3s; }
        .content-card:nth-child(4) { animation-delay: 0.4s; }
        .content-card:nth-child(5) { animation-delay: 0.5s; }

        .content-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 30px rgba(255, 69, 0, 0.25);
            border-color: var(--secondary);
        }

        .content-card:active {
            transform: translateY(-2px) scale(0.98);
        }

        .content-cover {
            width: 100%;
            height: 160px;
            object-fit: cover;
            border-bottom: 1px solid var(--glass-border);
            transition: transform 0.4s ease;
        }

        .content-card:hover .content-cover {
            transform: scale(1.1);
        }

        .content-info {
            padding: 15px;
        }

        .content-type {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .type-music {
            background: rgba(30, 144, 255, 0.2);
            color: var(--primary);
        }

        .type-video {
            background: rgba(255, 69, 0, 0.2);
            color: var(--secondary);
        }

        .content-card:hover .content-type {
            transform: scale(1.1);
        }

        .content-title {
            font-size: 1.1rem;
            margin-bottom: 5px;
            color: var(--light);
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .content-card:hover .content-title {
            color: var(--secondary);
        }

        .content-details {
            display: flex;
            justify-content: space-between;
            color: var(--gray);
            font-size: 0.8rem;
        }

        /* Enhanced Player Container with Glass Effect */
        .player-container {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: var(--shadow);
            display: none;
            border: 1px solid var(--glass-border);
            animation: slideInUp 0.8s var(--ease-out);
            position: relative;
            overflow: hidden;
        }

        .player-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.6s var(--ease-out);
        }

        .player-container.show::before {
            transform: scaleX(1);
        }

        .player-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            transform: translateY(10px);
            opacity: 0;
            animation: slideInUp 0.6s var(--ease-out) 0.3s forwards;
        }

        .player-cover {
            width: 150px;
            height: 150px;
            border-radius: 16px;
            object-fit: cover;
            margin-right: 20px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
            border: 2px solid var(--primary);
            transition: all 0.4s var(--ease-out);
        }

        .player-cover:hover {
            transform: scale(1.05) rotate(2deg);
            box-shadow: 0 12px 25px rgba(255, 69, 0, 0.4);
        }

        .player-info {
            flex: 1;
        }

        .player-title {
            font-size: 2rem;
            margin-bottom: 5px;
            color: var(--primary);
            font-weight: 700;
        }

        .player-subtitle {
            font-size: 1.3rem;
            color: var(--secondary);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .player-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 25px 0;
            gap: 15px;
            transform: translateY(10px);
            opacity: 0;
            animation: slideInUp 0.6s var(--ease-out) 0.5s forwards;
        }

        .control-btn {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            font-size: 1.8rem;
            color: var(--primary);
            margin: 0 15px;
            cursor: pointer;
            transition: all 0.3s var(--bounce);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 44px;
            min-width: 44px;
        }

        .control-btn:focus {
            outline: 2px solid var(--secondary);
            outline-offset: 2px;
        }

        .control-btn:hover {
            background: rgba(30, 144, 255, 0.2);
            color: var(--secondary);
            transform: scale(1.1);
            border-color: rgba(255, 69, 0, 0.3);
        }

        .control-btn:active {
            transform: scale(0.9);
        }

        .control-btn.active {
            background: var(--secondary);
            color: var(--light);
            box-shadow: 0 0 15px rgba(255, 69, 0, 0.6);
        }

        .play-btn {
            width: 70px;
            height: 70px;
            font-size: 2.2rem;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: var(--light);
            box-shadow: 0 0 25px rgba(255, 69, 0, 0.6);
            min-height: 70px;
            min-width: 70px;
        }

        .play-btn:hover {
            transform: scale(1.15);
            box-shadow: 0 0 30px rgba(255, 69, 0, 0.8);
        }

        .play-btn:active {
            transform: scale(1.05);
        }

        .progress-container {
            margin: 20px 0;
            transform: translateY(10px);
            opacity: 0;
            animation: slideInUp 0.6s var(--ease-out) 0.7s forwards;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(30, 144, 255, 0.3);
            border-radius: 4px;
            overflow: hidden;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
        }

        .progress-bar:hover {
            height: 10px;
            background: rgba(30, 144, 255, 0.4);
        }

        .progress-bar:hover::after {
            content: '';
            position: absolute;
            top: -5px;
            bottom: -5px;
            left: 0;
            width: 100%;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.1s linear;
            position: relative;
            overflow: hidden;
        }

        .progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: progressShine 2s infinite;
        }

        @keyframes progressShine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .time-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--gray);
            margin-top: 5px;
        }

        .volume-control {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
            gap: 10px;
            transform: translateY(10px);
            opacity: 0;
            animation: slideInUp 0.6s var(--ease-out) 0.9s forwards;
        }

        .volume-slider {
            width: 150px;
            height: 6px;
            border-radius: 3px;
            background: rgba(30, 144, 255, 0.3);
            outline: none;
            transition: all 0.3s ease;
        }

        .volume-slider:hover {
            height: 8px;
            background: rgba(30, 144, 255, 0.4);
        }

        .volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--secondary);
            cursor: pointer;
            transition: all 0.3s var(--bounce);
            box-shadow: 0 0 10px rgba(255, 69, 0, 0.6);
        }

        .volume-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 15px rgba(255, 69, 0, 0.8);
        }

        /* Enhanced Playing Indicator */
        .playing-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--secondary);
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            animation: pulse 1.5s infinite, bounce 0.6s var(--bounce);
            box-shadow: 0 0 10px rgba(255, 69, 0, 0.6);
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-5px); }
            60% { transform: translateY(-3px); }
        }

        /* Enhanced Video Player Modal */
        .video-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s var(--ease-out);
            backdrop-filter: blur(10px);
        }

        .video-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            width: 90%;
            max-width: 900px;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 0 60px rgba(255, 69, 0, 0.4);
            position: relative;
            transform: scale(0.8) translateY(50px);
            transition: all 0.5s var(--bounce);
            border: 1px solid var(--glass-border);
        }

        .video-modal.active .modal-content {
            transform: scale(1) translateY(0);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            background: rgba(0, 0, 0, 0.7);
            border-bottom: 1px solid var(--glass-border);
        }

        .modal-title {
            font-size: 1.3rem;
            color: var(--primary);
            font-weight: 600;
        }

        .close-modal {
            background: none;
            border: none;
            color: var(--light);
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s var(--bounce);
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 44px;
            min-width: 44px;
        }

        .close-modal:focus {
            outline: 2px solid var(--secondary);
            outline-offset: 2px;
        }

        .close-modal:hover {
            background: rgba(255, 69, 0, 0.2);
            color: var(--secondary);
            transform: scale(1.1) rotate(90deg);
        }

        .close-modal:active {
            transform: scale(0.9) rotate(90deg);
        }

        .video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Enhanced Footer */
        footer {
            text-align: center;
            color: var(--gray);
            padding: 20px;
            font-size: 0.9rem;
            margin-top: 40px;
            border-top: 1px solid var(--glass-border);
            animation: fadeInUp 1s var(--ease-out) 3.4s both;
            opacity: 0;
        }

        /* Audio Visualizer */
        .visualizer-container {
            width: 100%;
            height: 100px;
            margin: 20px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .visualizer-container.active {
            opacity: 1;
        }

        .visualizer-bars {
            display: flex;
            align-items: flex-end;
            justify-content: center;
            height: 80px;
            gap: 3px;
        }

        .visualizer-bar {
            width: 4px;
            background: linear-gradient(to top, var(--primary), var(--secondary));
            border-radius: 2px;
            transition: height 0.1s ease;
        }

        /* Spatial Effects */
        .spatial-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .parallax-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 50%, rgba(30, 144, 255, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(255, 69, 0, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 40% 80%, rgba(255, 107, 107, 0.1) 0%, transparent 50%);
            transform: translateZ(-100px) scale(2);
        }

        /* Voice Control */
        .voice-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            z-index: 100;
            transition: all 0.3s var(--bounce);
        }

        .voice-control:focus {
            outline: 2px solid var(--light);
            outline-offset: 2px;
        }

        .voice-control:hover {
            transform: scale(1.1);
        }

        .voice-control.listening {
            animation: pulse 1s infinite;
        }

        .voice-control i {
            color: white;
            font-size: 1.5rem;
        }

        /* Error Notification */
        .error-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #ff4444;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            z-index: 10000;
            animation: slideInRight 0.3s ease;
            box-shadow: 0 4px 12px rgba(255, 68, 68, 0.3);
            max-width: 300px;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Enhanced Responsive Design */
        @media (max-width: 768px) {
            .albums-grid,
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .album-header {
                flex-direction: column;
                text-align: center;
            }
            
            .detail-cover {
                margin-right: 0;
                margin-bottom: 20px;
            }
            
            .player-header {
                flex-direction: column;
                text-align: center;
            }
            
            .player-cover {
                margin-right: 0;
                margin-bottom: 15px;
            }
            
            .logo {
                font-size: 2.5rem;
            }
            
            .logo-subtitle {
                font-size: 1.2rem;
            }
            
            #intro h1 {
                font-size: 2.5rem;
            }

            .nav-btn, .content-btn, .shuffle-btn {
                padding: 12px 20px;
                font-size: 0.9rem;
            }

            .search-box {
                padding: 12px 20px;
                font-size: 0.9rem;
            }

            /* Reduced hover effects on mobile */
            .album-card:hover {
                transform: translateY(-5px) scale(1.01);
            }
        }

        /* Hide visualizer on very small screens for performance */
        @media (max-width: 480px) {
            .visualizer-container {
                display: none;
            }
            
            .voice-control {
                width: 50px;
                height: 50px;
                bottom: 15px;
                right: 15px;
            }
            
            .voice-control i {
                font-size: 1.2rem;
            }
        }

        /* Enhanced Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--primary), var(--secondary));
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, var(--secondary), var(--primary));
            transform: scale(1.1);
        }

        /* Pull to Refresh */
        .pull-to-refresh {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1001;
            transform: translateY(-100%);
            transition: transform 0.3s ease;
        }

        .pull-to-refresh.active {
            transform: translateY(0);
        }

        .refresh-spinner {
            width: 30px;
            height: 30px;
            border: 3px solid rgba(30, 144, 255, 0.3);
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Enhanced Empty States */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--gray);
        }

        .empty-state i {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        /* Enhanced Search Results */
        .search-results-count {
            text-align: center;
            color: var(--gray);
            margin-bottom: 20px;
            font-size: 0.9rem;
            animation: fadeIn 0.5s ease;
        }
    </style>
</head>
<body>
    <!-- Accessibility Skip Link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Spatial Background Layer -->
    <div class="spatial-layer">
        <div class="parallax-bg"></div>
    </div>

    <!-- Enhanced INTRO ANIMATION -->
    <div id="intro">
        <h1>DJ MEGATRON RECORDS</h1>
        <p>Spatial Media Experience</p>
        <div class="loading-dots">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>

    <!-- Voice Control -->
    <div class="voice-control" id="voiceControl" aria-label="Voice control">
        <i class="fas fa-microphone" aria-hidden="true"></i>
    </div>

    <!-- Pull to Refresh Indicator -->
    <div class="pull-to-refresh" id="pullToRefresh">
        <div class="refresh-spinner"></div>
    </div>

    <div class="container">
        <header>
            <div class="logo">MEGATRON</div>
            <div class="logo-subtitle">Records</div>
            <p class="subtitle">Spatial Media Experience - Next Generation</p>
        </header>

        <nav>
            <a href="index.html" class="nav-btn"><i class="fas fa-music"></i> Music Vault</a>
            <a href="videos.html" class="nav-btn"><i class="fas fa-video"></i> Video Vault</a>
            <a href="https://djmegatronrecords.com" class="nav-btn"><i class="fas fa-home"></i> Main Site</a>
        </nav>

        <div class="content-toggle">
            <button class="content-btn active" id="albumsViewBtn"><i class="fas fa-compact-disc"></i> Albums</button>
            <button class="content-btn" id="allTracksViewBtn"><i class="fas fa-list"></i> All Tracks</button>
            <button class="content-btn" id="allVideosViewBtn"><i class="fas fa-film"></i> All Videos</button>
        </div>

        <div class="controls">
            <input type="text" class="search-box" id="searchBox" placeholder="ðŸ” Search for albums, songs or videos...">
            <button class="shuffle-btn" id="shuffleBtn"><i class="fas fa-random"></i> Shuffle</button>
        </div>

        <!-- Search Results Count -->
        <div class="search-results-count" id="searchResultsCount" style="display: none;"></div>

        <!-- Audio Visualizer -->
        <div class="visualizer-container" id="visualizerContainer">
            <div class="visualizer-bars" id="visualizerBars">
                <!-- Bars will be generated by JavaScript -->
            </div>
        </div>

        <!-- Skeleton Loading -->
        <div class="skeleton-grid" id="skeletonGrid">
            <div class="skeleton-card">
                <div class="skeleton-cover"></div>
                <div class="skeleton-info">
                    <div class="skeleton-title"></div>
                    <div class="skeleton-details">
                        <div class="skeleton-detail"></div>
                        <div class="skeleton-detail"></div>
                    </div>
                </div>
            </div>
            <div class="skeleton-card">
                <div class="skeleton-cover"></div>
                <div class="skeleton-info">
                    <div class="skeleton-title"></div>
                    <div class="skeleton-details">
                        <div class="skeleton-detail"></div>
                        <div class="skeleton-detail"></div>
                    </div>
                </div>
            </div>
            <div class="skeleton-card">
                <div class="skeleton-cover"></div>
                <div class="skeleton-info">
                    <div class="skeleton-title"></div>
                    <div class="skeleton-details">
                        <div class="skeleton-detail"></div>
                        <div class="skeleton-detail"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main id="main-content" role="main">
            <!-- Albums Grid View -->
            <div class="albums-grid" id="albumsGrid" style="display: none;">
                <!-- Album cards will be generated here -->
            </div>

            <!-- All Tracks View -->
            <div class="content-grid" id="allTracksContainer" style="display: none;">
                <!-- All tracks will be generated here -->
            </div>

            <!-- All Videos View -->
            <div class="content-grid" id="allVideosContainer" style="display: none;">
                <!-- All videos will be generated here -->
            </div>

            <!-- Empty State -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <i class="fas fa-search"></i>
                <h3>No Results Found</h3>
                <p>Try adjusting your search terms</p>
            </div>

            <!-- Album Detail View -->
            <div class="album-detail" id="albumDetail">
                <!-- Album detail content will be generated here -->
            </div>

            <!-- Player Container -->
            <div class="player-container" id="playerContainer">
                <div class="player-header">
                    <img src="" alt="Content Cover" class="player-cover" id="playerCover">
                    <div class="player-info">
                        <h2 class="player-title" id="playerTitle">Content Title</h2>
                        <p class="player-subtitle" id="playerSubtitle">Now Playing</p>
                        <div class="content-details">
                            <span id="playerDetails">Duration</span>
                        </div>
                    </div>
                </div>

                <div class="player-controls">
                    <button class="control-btn" id="shufflePlayerBtn" aria-label="Shuffle">
                        <i class="fas fa-random" aria-hidden="true"></i>
                    </button>
                    <button class="control-btn" id="prevBtn" aria-label="Previous track">
                        <i class="fas fa-step-backward" aria-hidden="true"></i>
                    </button>
                    <button class="control-btn play-btn" id="playBtn" aria-label="Play/Pause">
                        <i class="fas fa-play" aria-hidden="true"></i>
                    </button>
                    <button class="control-btn" id="nextBtn" aria-label="Next track">
                        <i class="fas fa-step-forward" aria-hidden="true"></i>
                    </button>
                    <button class="control-btn" id="repeatBtn" aria-label="Repeat">
                        <i class="fas fa-redo" aria-hidden="true"></i>
                    </button>
                </div>

                <div class="progress-container">
                    <div class="progress-bar" id="progressBar">
                        <div class="progress" id="progress"></div>
                    </div>
                    <div class="time-info">
                        <span id="currentTime">0:00</span>
                        <span id="duration">0:00</span>
                    </div>
                </div>

                <div class="volume-control">
                    <i class="fas fa-volume-up" aria-hidden="true"></i>
                    <input type="range" min="0" max="100" value="80" class="volume-slider" id="volumeSlider" aria-label="Volume">
                </div>
            </div>
        </main>

        <!-- Video Player Modal -->
        <div class="video-modal" id="videoModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="modalVideoTitle">Video Title</h3>
                    <button class="close-modal" id="closeModal" aria-label="Close video">
                        <i class="fas fa-times" aria-hidden="true"></i>
                    </button>
                </div>
                <div class="video-container" id="videoContainer">
                    <!-- Adilo video will be embedded here -->
                </div>
            </div>
        </div>

        <footer>
            <p>Â© DJ Megatron Records 2025 | Spatial Media Experience</p>
        </footer>
    </div>

    <script>
        // === FIXED ALBUMS ARRAY WITH YOUR ACTUAL AUDIO FILES ===
        const albums = [
            {
                "id": 1,
                "title": "Old Man Swag",
                "cover": "https://raw.githubusercontent.com/coolwinner678/members-area/main/Dj-Mega-Tron-Logo.png",
                "year": "2022",
                "description": "The first collection of bangers from DJ Megatron",
                "tracks": [
                    {
                        "id": 1,
                        "type": "music",
                        "title": "Dj Mega[tron] - OLD MAN SWAG",
                        "duration": "3:10",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Mega%5BTron%5D%20-%20Old%20Man%20Swag.mp3"
                    },
                    {
                        "id": 2,
                        "type": "music",
                        "title": "Dj Mega[tron] - Pay DAY",
                        "duration": "4:08",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Mega%5BTron%5D%20-%20PayDay%20%5BB-XVwhtQDDI%5D.mp3"
                    },
                    {
                        "id": 3,
                        "type": "music",
                        "title": "Dj Mega[Tron] - No Fear",
                        "duration": "3:23",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Mega%5BTron%5D%20-%20No%20Fear.mp3"
                    },
                    {
                        "id": 4,
                        "type": "music",
                        "title": "Dj Mega[tron] - 3rd genration hoe",
                        "duration": "3:03",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Mega%5BTron%5D%20-%203rd%20Generation%20Hoe.mp3"
                    },
                    {
                        "id": 5,
                        "type": "music",
                        "title": "Dj Mega[tron] - HUH",
                        "duration": "3:46",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Mega%5BTron%5D%20-%20HUH.mp3"
                    },
                    {
                        "id": 6,
                        "type": "music",
                        "title": "Dj Mega[tron] - Break a Biish",
                        "duration": "3:31",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Mega%5BTron%5D%20-%20Break%20a%20Biish.mp3"
                    },
                     {
                        "id": 7,
                        "type": "music",
                        "title": "Dj Mega[tron] - Move Me",
                        "duration": "3:44",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Mega%5BTron%5D%20-%20Move%20Me.mp3"
                    },
                     {
                        "id": 8,
                        "type": "music",
                        "title": "Dj Mega[tron] - 2 Step",
                        "duration": "3:31",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D%20-%202%20STEP.mp3"
                    },
                     {
                        "id": 9,
                        "type": "music",
                        "title": "Dj Mega[tron] - Fakest",
                        "duration": "3:31",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%20%5BTRON%5D-FAKEST%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 10,
                        "type": "music",
                        "title": "Dj Mega[tron] - Stone Mountain Ft Carte'",
                        "duration": "3:31",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-STONE%20MOUNTAIN%20FT%20CARTE'.mp3"
                    },
                    {
                        "id": 11,
                        "type": "music",
                        "title": "Dj Mega[tron] - Leave'",
                        "duration": "3:31",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%2520MEGA%255BTRON%255D-LEAVE%2520PROD%2520BY%2520CARTEKEYS%2520%5Biuo1Kk_s-mY%5D.mp3"
                    },
                    {
                        "id": 12,
                        "type": "music",
                        "title": "Dj Mega[tron] - Temperature'",
                        "duration": "3:31",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-TEMPERATURE%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 13,
                        "type": "music",
                        "title": "Dj Mega[tron] - P.I.M.P'",
                        "duration": "3:29",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-P.I.M.P%20prod%20by%20Cartekeys.mp3.mp3"
                    },
                    {
                        "id": 14,
                        "type": "music",
                        "title": "Dj Mega[tron] - Here Comes Love'",
                        "duration": "3:40",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Mega%5BTron%5D%20-%20Here%20Comes%20Love.mp3"
                    },
                    {
                        "id": 15,
                        "type": "music",
                        "title": "Dj Mega[tron] - Oh No (A song for CJ)'",
                        "duration": "2:50",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Mega%5BTron%5D%20-%20Oh%20No%20(A%20song%20for%20CJ).mp3"
                    },
                    {
                        "id": 16,
                        "type": "music",
                        "title": "Dj Mega[tron] - For Ya Ft Huey Bey '",
                        "duration": "3:13",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-FOR%20YA%20FT%20HUEY%20BEY%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 17,
                        "type": "music",
                        "title": "Dj Mega[tron] - Haters Ft Dj Help'",
                        "duration": "3:31",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-HATERS%20FT%20DJ%20HELP%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 18,
                        "type": "music",
                        "title": "Dj Mega[tron] - I Got Things to do FT Dj Help'",
                        "duration": "2:50",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Mega%5BTron%5D%20-%20I%20Got%20Things%20To%20Do%20ft.%20Minus%20K%20(DJ%20Help).mp3"
                    },
                    {
                        "id": 19,
                        "type": "music",
                        "title": "Dj Mega[tron] - Demon Ft Tasha Mac'",
                        "duration": "3:31",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-DEMON%20FT%20TASHA%20MAC.mp3"
                    },
                    {
                        "id": 20,
                        "type": "music",
                        "title": "Dj Mega[tron] - Gone'",
                        "duration": "2:48",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Mega%255BTron%255D%2520-%2520Gone%2520%5BAXGa9s6cID0%5D.mp3"
                    },
                    
                    
                ]
            },
            {
                "id": 2,
                "title": "This Old Man",
                "cover": "https://raw.githubusercontent.com/coolwinner678/members-area/main/white-Dj-Mega-Tron-Logo.jpg",
                "year": "2022",
                "description": "Street anthems and urban stories",
                "tracks": [
                    {
                        "id": 21,
                        "type": "music",
                        "title": "Dj Mega[tron] - Face Down Ft Carte",
                        "duration": "3:06",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Mega%5BTron%5D%20-%20Face%20Down%20ft.%20Carte.mp3"
                    },
                    {
                        "id": 22,
                        "type": "music",
                        "title": "Dj Mega[Tron] - Street Life ft. TayDay and Minus K",
                        "duration": "3:32",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Mega%5BTron%5D%20-%20Street%20Life%20ft.%20TayDay%20and%20Minus%20K'%20(DJ%20Help).mp3"
                    },
                    {
                        "id": 23,
                        "type": "music",
                        "title": "Dj Mega[tron] - No Love",
                        "duration": "2:49",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Dj%20Mega%5Btron%5D-No%20Love%20Prodby%20Cartekeys.mp3"
                    },
                    {
                        "id": 24,
                        "type": "music",
                        "title": "Dj Mega[tron] - Trappin",
                        "duration": "2:37",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-TRAPPIN%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 25,
                        "type": "music",
                        "title": "Dj Mega[tron] - Hatin",
                        "duration": "2:57",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-HATIN%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 26,
                        "type": "music",
                        "title": "Dj Mega[tron] - Cash Machine",
                        "duration": "3:01",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%2520MEGA%255BTRON%255D-CASH%2520MACHINE%2520PROD%2520BY%2520CARTEKEYS%2520%5Bh1cpAg5DdAQ%5D.mp3"
                    },
                    {
                        "id": 27,
                        "type": "music",
                        "title": "Dj Mega[tron] - Why",
                        "duration": "3:01",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-WHY.mp3"
                    },
                    {
                        "id": 28,
                        "type": "music",
                        "title": "Dj Mega[tron] - No Good",
                        "duration": "3:07",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-NO%20GOOD.mp3"
                    },
                    {
                        "id": 29,
                        "type": "music",
                        "title": "Dj Mega[tron] - In My Zone",
                        "duration": "3:55",
                        "audioSrc": "https://pub-59b2958112553c03fce0a235c94b3bb0.r2.dev/megatron-music/DJ%20MEGA%5BTRON%5D-%20IN%20MY%20ZONE.mp3"
                    },
                    {
                        "id": 30,
                        "type": "music",
                        "title": "Dj Mega[tron] - Hoes",
                        "duration": "3:31",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%2520MEGA%255BTRON%255D-HOES%2520%5BOxbA_egBEEI%5D.mp3"
                    },
                    {
                        "id": 31,
                        "type": "music",
                        "title": "Dj Mega[tron] - Shop With Us Ft Dj Help",
                        "duration": "3:47",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20Mega%5BTron%5D%20-%20Shop%20Wit%20Us%20ft.%20Minus%20K'%20aka%20(DJ%20HELP).mp3"
                    },
                    {
                        "id": 32,
                        "type": "music",
                        "title": "Carte Ft Dj Mega[tron] - Rumors",
                        "duration": "3:00",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Carte'%20-%20Rumors%20ft.%20Mega%5BTron%5D.mp3"
                    },
                    {
                        "id": 33,
                        "type": "music",
                        "title": "Dj Mega[tron] - The Way (Gospel song)",
                        "duration": "3:02",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-THE%20WAY%20(GOSPEL)%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 34,
                        "type": "music",
                        "title": "Dj Mega[tron] - Playa",
                        "duration": "3:37",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-PLAYA.mp3"
                    },
                    {
                        "id": 35,
                        "type": "music",
                        "title": "Dj Mega[tron] - Pillow Talk",
                        "duration": "3:49",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-PILLOW%20TALK%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 36,
                        "type": "music",
                        "title": "Dj Mega[tron] - Guns Down Hands up",
                        "duration": "4:01",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-GUNS%20DOWN%20HANDS.mp3"
                    },
                    {
                        "id": 37,
                        "type": "music",
                        "title": "Dj Mega[tron] - TX 2 ATL",
                        "duration": "3:30",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJMEGA%5BTRON%5D-%20TX%202%20ATL.mp3"
                    },
                    {
                        "id": 38,
                        "type": "music",
                        "title": "Dj Mega[tron] - Badass ",
                        "duration": "3:18",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-BADASS%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 39,
                        "type": "music",
                        "title": "Dj Mega[tron] - Pimpin",
                        "duration": "4:01",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-PIMPIN.mp3"
                    },
                    {
                        "id": 40,
                        "type": "music",
                        "title": "Dj Mega[tron] - Dial Tone",
                        "duration": "3:22",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-%20DIAL%20TONE.mp3"
                    }
                ]
            },
            {
                "id": 3,
                "title": "Friendemies",
                "cover": "https://raw.githubusercontent.com/coolwinner678/members-area/main/DJ-Megatron-logo-yellow.jpg",
                "year": "2022",
                "description": "Legends are born in the streets",
                "tracks": [
                    {
                        "id": 41,
                        "type": "music",
                        "title": "Dj Mega[tron] - Official Bitch",
                        "duration": "3:11",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20Mega%5BTron%5D%20-%20Official%20Bitch.mp3"
                    },
                    {
                        "id": 42,
                        "type": "music",
                        "title": "Dj Mega[tron] - Drop It",
                        "duration": "4:09",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%20%5BTRON%5D-DROP%20IT%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 43,
                        "type": "music",
                        "title": "Dj Mega[tron] - American Dream",
                        "duration": "3:29",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%20%5BTRON%5D-AMERICAN%20DREAM%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 44,
                        "type": "music",
                        "title": "Dj Mega[tron] - H.A.N",
                        "duration": "4:29",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-H.A.N.mp3"
                    },
                    {
                        "id": 45,
                        "type": "music",
                        "title": "Dj Mega[tron] - World Spin",
                        "duration": "3:23",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-WORLD%20SPIN_NEW.mp3"
                    },
                    {
                        "id": 46,
                        "type": "music",
                        "title": "Dj Mega[tron] - Things To Do Ft Carte Keys",
                        "duration": "2:49",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Dj%2520Mega%255Btron%255D-things%2520to%2520do%2520ft%2520Cartekeys%2520%5BSJDOdg6qlAs%5D.mp3"
                    },
                    {
                        "id": 47,
                        "type": "music",
                        "title": "Dj Mega[tron] - Real Vs Fake",
                        "duration": "3:31",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-REAL%20VS%20FAKE%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 48,
                        "type": "music",
                        "title": "Dj Mega[tron] -Smoke",
                        "duration": "3:31",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-SMOKE%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 49,
                        "type": "music",
                        "title": "Dj Mega[tron] - Fathers Day",
                        "duration": "3:01",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%2520MEGA%255BTRON%255D-FATHERS%2520DAY%2520PROD%2520BY%2520CARTEKEYS%2520%5Bgj8ym8tU8XI%5D.mp3"
                    },
                    {
                        "id": 50,
                        "type": "music",
                        "title": "Dj Mega[tron] - Shonda",
                        "duration": "3:08",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-SHONDA%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 51,
                        "type": "music",
                        "title": "Dj Mega[tron] - Wicked Ft Rude Rick",
                        "duration": "3:02",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-WICKED%20FT%20RUDE%20RICK%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 52,
                        "type": "music",
                        "title": "Dj Mega[tron] - 100,000",
                        "duration": "3:02",
                        "audioSrc": "Dhttps://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%2520MEGA%255BTRON%255D-100%252C000%2520PROD%2520BY%2520CARTEKEYS%2520%5Bs7UDQirx6lg%5D.mp3"
                    },
                    {
                        "id": 53,
                        "type": "music",
                        "title": "Dj Mega[tron] - Jeoalous Ft Stranger",
                        "duration": "3:41",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%2520MEGA%255BTRON%255D-JEALOUS%2520FT%2520STRANGER%2520PROD%2520BY%2520CARTEKEYS%2520%5B_3Zg0rZt5rg%5D.mp3"
                    },
                    {
                        "id": 54,
                        "type": "music",
                        "title": "Dj Mega[tron] - Drunk",
                        "duration": "3:01",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJMEGA%5BTRON%5D-DRUNK%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 55,
                        "type": "music",
                        "title": "Dj Mega[tron] - Frienemies",
                        "duration": "4:20",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%2520MEGA%255BTRON%255D-FRENEMIES%2520PROD%2520BY%2520CARTEKEYS%2520%5BFbG5VywPpAA%5D.mp3"
                    },
                    {
                        "id": 56,
                        "type": "music",
                        "title": "Dj Help Jeolousy",
                        "duration": "3:48",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Minus%20K'%20(DJ%20Help)%20-%20Jealousy.mp3"
                    },
                    {
                        "id": 57,
                        "type": "music",
                        "title": "Dj Mega[tron] - Shine",
                        "duration": "3:18",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-SHINE%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 58,
                        "type": "music",
                        "title": "Dj Mega[tron] - My Brother's Keeper",
                        "duration": "3:40",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/Dj%20MEGA%5BTRON-MY%20BROTHERS%20KEEPER%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 59,
                        "type": "music",
                        "title": "Dj Mega[tron] - Big Homie Who",
                        "duration": "4:01",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-BIG%20HOMIE%20WHO__%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 60,
                        "type": "music",
                        "title": "Dj Mega[tron] - What You Got Ft Big Dymond",
                        "duration": "4:08",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJMEGA%5BTRON%5D-WHAT%20YOU%20GOT%20FT%20BIG%20DYMOND%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 61,
                        "type": "music",
                        "title": "Dj Mega[tron] - Mario Bro's (YOSHI)",
                        "duration": "4:23",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-MARIO%20BROS%20(YOSHI)%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 62,
                        "type": "music",
                        "title": "Dj Mega[tron] - Neechie FN",
                        "duration": "3:05",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-PRESENTS%20NEECHIE%20FN%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 63,
                        "type": "music",
                        "title": "Dj Mega[tron] - Nika",
                        "duration": "2:56",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-NIKA%20PROD%20BY%20CARTEKEYS.mp3"
                    }
                    

                ]
            },
            {
                "id": 4,
                "title": "Man In The Mirror",
                "cover": "https://raw.githubusercontent.com/coolwinner678/members-area/main/Man-in-the-mirror-cvr.jpg",
                "year": "2023",
                "description": "Mirror Mirror on the wall who's the most Gangsta of them all?",
                "tracks": [
                    {
                        "id": 64,
                        "type": "music",
                        "title": "Dj Mega[tron] - Pretty Boy Who",
                        "duration": "4:16",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-PRETTY%20BOY%20WHO%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 65,
                        "type": "music",
                        "title": "Dj Mega[tron] - 40",
                        "duration": "3:52",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-40%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 66,
                        "type": "music",
                        "title": "Dj Mega[tron] - Hoshi",
                        "duration": "3:50",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-%20hoshi%20prod%20by%20cartekeys.mp3"
                    },
                    {
                        "id": 67,
                        "type": "music",
                        "title": "Dj Mega[tron] - Momma",
                        "duration": "4:01",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-MOMMA%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 68,
                        "type": "music",
                        "title": "Dj Mega[tron] - Chasin",
                        "duration": "3:40",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-CHASIN%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 69,
                        "type": "music",
                        "title": "Dj Mega[tron] - STP 4 Life",
                        "duration": "4:03",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-STP%204LIFE%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 70,
                        "type": "music",
                        "title": "Dj Mega[tron] - Doe Swing",
                        "duration": "4:10",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-DOE%20SWING%20PROD%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 71,
                        "type": "music",
                        "title": "Dj Mega[tron] - Can't",
                        "duration": "4:31",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D%20Can%E2%80%99t..mp3"
                    },
                    {
                        "id": 72,
                        "type": "music",
                        "title": "Dj Mega[tron] - King Leo",
                        "duration": "3:46",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D%20King.%20Leo.mp3"
                    },
                    {
                        "id": 73,
                        "type": "music",
                        "title": "Dj Mega[tron] - Wilderbeast",
                        "duration": "3:17",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-%20%20WILDERBEAST.%20PRO.%20BY%20CARTEKEYS.mp3"
                    },
                    {
                        "id": 74,
                        "type": "music",
                        "title": "Dj Mega[tron] - Back Rollin",
                        "duration": "4:15",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-%20backrollin%20procbycartekeys.mp3"
                    },
                    {
                        "id": 75,
                        "type": "music",
                        "title": "Dj Mega[tron] - Mr 400,000",
                        "duration": "3:47",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-%20%20Mr400%20000probycartekeys%20%20400%20%20000.mp3"
                    },
                    {
                        "id": 76,
                        "type": "music",
                        "title": "Dj Mega[tron] - Man In The Mirror",
                        "duration": "3:26",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D-%20%20man%20in%20the%20mirror%20prodby%20cartekeys.mp3"
                    },
                    {
                        "id": 77,
                        "type": "music",
                        "title": "Dj Mega[tron] - Pour it up",
                        "duration": "3:46",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D%20-%20Pour%20it%20up.%20%20%20prod%20you%20cartekeys.mp3"
                    },
                    {                        
                        "id": 78,
                        "type": "music",
                        "title": "Dj Mega[tron] - True views Who Disloyal. People!",
                        "duration": "3:53",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D%20-%20Tru%20views.%20%20Who%20%20disloyal.%20People.%20prod%20by%20cartekeys.mp3"
                    },
                    {
                        "id": 79,
                        "type": "music",
                        "title": "Dj Mega[tron] - No More True",
                        "duration": "2:53",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D%20-%20No%20more%20tru.%20%20prodbycarekeys.mp3"
                    },
                    {
                        "id": 80,
                        "type": "music",
                        "title": "Dj Mega[tron] - Can We",
                        "duration": "3:31",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D%20-%20Can.%20We.%20%20Prodbycartekeys.mp3"
                    },
                    {
                        "id": 81,
                        "type": "music",
                        "title": "Dj Mega[tron] - Cake Day",
                        "duration": "3:37",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D%20-%20Cake%20day%20%20prodbycartekeys.mp3"
                    },
                    {
                        "id": 82,
                        "type": "music",
                        "title": "Dj Mega[tron] - Bobby Iceberg Bitch",
                        "duration": "4:12",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D%20-%20Bobby%20iceberg%20%20bitch%20-%20prod%20by%20cartekeys.mp3"
                    },
                    {
                        "id": 83,
                        "type": "music",
                        "title": "Dj Mega[tron] - Geeked Up",
                        "duration": "3:57",
                        "audioSrc": "https://pub-88f793b777bf4ce795025f8a191f622a.r2.dev/DJ%20MEGA%5BTRON%5D%20-%20Geeked%20.%20Up.%20%20%20%20%20fea%20cartekeys.%20%20Prod%20by%20cartekeys.mp3"
                    }
                ]
            }
        ];

        // === ENHANCED STATE MANAGEMENT ===
        class AppState {
            constructor() {
                this.state = {
                    player: {
                        currentTrack: null,
                        currentAlbum: null,
                        isPlaying: false,
                        volume: 80,
                        isRepeating: false,
                        isShuffled: false
                    },
                    ui: {
                        currentView: 'albums',
                        searchQuery: ''
                    },
                    data: {
                        albums: albums
                    }
                };
                this.listeners = new Map();
            }

            setState(path, value) {
                console.log('ðŸ”„ State update:', path, value);
                const keys = path.split('.');
                let current = this.state;
                
                for (let i = 0; i < keys.length - 1; i++) {
                    if (!current[keys[i]]) current[keys[i]] = {};
                    current = current[keys[i]];
                }
                
                const oldValue = current[keys[keys.length - 1]];
                current[keys[keys.length - 1]] = value;
                
                this.notify(path, value, oldValue);
            }

            getState(path) {
                return path.split('.').reduce((obj, key) => obj?.[key], this.state);
            }

            subscribe(path, callback) {
                if (!this.listeners.has(path)) {
                    this.listeners.set(path, new Set());
                }
                this.listeners.get(path).add(callback);
            }

            notify(path, newValue, oldValue) {
                const listeners = this.listeners.get(path);
                if (listeners) {
                    listeners.forEach(callback => {
                        try {
                            callback(newValue, oldValue, path);
                        } catch (error) {
                            console.error('State listener error:', error);
                        }
                    });
                }
            }
        }

        // Initialize state manager
        const appState = new AppState();

        // Enhanced Player state with Web Audio API
        let currentContent = null;
        let currentAlbum = null;
        let currentContentIndex = 0;
        let isPlaying = false;
        let isShuffled = false;
        let isRepeating = false;
        let audio = new Audio();
        let progressInterval;
        let currentView = 'albums';
        let audioContext;
        let analyser;
        let source;
        let dataArray;
        let bufferLength;
        let visualizerInterval;
        let lastVisualizerUpdate = 0;
        let audioNodesSetup = false;

        // Performance tracking
        const perf = {
            startTime: Date.now(),
            interactions: 0,
            errors: 0
        };

        // DOM elements
        const albumsGrid = document.getElementById('albumsGrid');
        const albumDetail = document.getElementById('albumDetail');
        const playerContainer = document.getElementById('playerContainer');
        const playerCover = document.getElementById('playerCover');
        const playerTitle = document.getElementById('playerTitle');
        const playerSubtitle = document.getElementById('playerSubtitle');
        const playerDetails = document.getElementById('playerDetails');
        const playBtn = document.getElementById('playBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const shufflePlayerBtn = document.getElementById('shufflePlayerBtn');
        const repeatBtn = document.getElementById('repeatBtn');
        const progressBar = document.getElementById('progressBar');
        const progress = document.getElementById('progress');
        const currentTimeEl = document.getElementById('currentTime');
        const durationEl = document.getElementById('duration');
        const volumeSlider = document.getElementById('volumeSlider');
        const albumsViewBtn = document.getElementById('albumsViewBtn');
        const allTracksViewBtn = document.getElementById('allTracksViewBtn');
        const allVideosViewBtn = document.getElementById('allVideosViewBtn');
        const searchBox = document.getElementById('searchBox');
        const shuffleBtn = document.getElementById('shuffleBtn');
        const videoModal = document.getElementById('videoModal');
        const modalVideoTitle = document.getElementById('modalVideoTitle');
        const videoContainer = document.getElementById('videoContainer');
        const closeModal = document.getElementById('closeModal');
        const allTracksContainer = document.getElementById('allTracksContainer');
        const allVideosContainer = document.getElementById('allVideosContainer');
        const skeletonGrid = document.getElementById('skeletonGrid');
        const emptyState = document.getElementById('emptyState');
        const searchResultsCount = document.getElementById('searchResultsCount');
        const visualizerContainer = document.getElementById('visualizerContainer');
        const visualizerBars = document.getElementById('visualizerBars');
        const voiceControl = document.getElementById('voiceControl');

        // Browser compatibility check
        function checkBrowserCompatibility() {
            const compatibility = {
                webAudio: !!(window.AudioContext || window.webkitAudioContext),
                speechRecognition: !!(window.SpeechRecognition || window.webkitSpeechRecognition),
                pictureInPicture: !!document.pictureInPictureEnabled,
                touch: 'ontouchstart' in window
            };
            
            console.log('Browser compatibility:', compatibility);
            
            // Hide unsupported features
            if (!compatibility.speechRecognition) {
                voiceControl.style.display = 'none';
            }
            
            return compatibility;
        }

        // Initialize the app
        function init() {
            console.log('ðŸš€ Initializing DJ Megatron Records Spatial Experience...');
            
            // Check browser compatibility
            const compatibility = checkBrowserCompatibility();
            
            // Initialize Web Audio API (but don't set up nodes until user interaction)
            initAudioContext();
            
            // Initialize visualizer bars
            initVisualizer();
            
            // Track initial load time
            const loadTime = Date.now() - perf.startTime;
            console.log(`ðŸ“Š Page loaded in ${loadTime}ms`);
            
            // Hide skeleton after content loads
            setTimeout(() => {
                skeletonGrid.style.display = 'none';
                albumsGrid.style.display = 'grid';
                renderAlbums();
                setupEventListeners();
                console.log('âœ… Spatial Experience initialized successfully!');
            }, 1000);
        }

        // Initialize Web Audio API for advanced audio processing
        function initAudioContext() {
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                console.log('ðŸŽµ Web Audio API initialized (suspended)');
            } catch (e) {
                console.warn('Web Audio API not supported:', e);
            }
        }

        // Setup audio nodes after user interaction
        function setupAudioNodes() {
            if (audioNodesSetup || !audioContext) return;
            
            try {
                analyser = audioContext.createAnalyser();
                source = audioContext.createMediaElementSource(audio);
                
                analyser.fftSize = 256;
                bufferLength = analyser.frequencyBinCount;
                dataArray = new Uint8Array(bufferLength);
                
                source.connect(analyser);
                analyser.connect(audioContext.destination);
                
                audioNodesSetup = true;
                console.log('ðŸŽµ Audio nodes setup complete');
            } catch (e) {
                console.error('Error setting up audio nodes:', e);
                perf.errors++;
            }
        }

        // Initialize visualizer with bars (optimized for performance)
        function initVisualizer() {
            visualizerBars.innerHTML = '';
            // Reduced number of bars for better performance
            for (let i = 0; i < 20; i++) {
                const bar = document.createElement('div');
                bar.className = 'visualizer-bar';
                bar.style.height = '2px';
                visualizerBars.appendChild(bar);
            }
        }

        // Update visualizer with audio data (throttled for performance)
        function updateVisualizer() {
            if (!analyser || !audioNodesSetup) return;
            
            // Throttle to ~30fps instead of 20fps
            const now = Date.now();
            if (now - lastVisualizerUpdate < 33) return;
            lastVisualizerUpdate = now;
            
            try {
                analyser.getByteFrequencyData(dataArray);
                const bars = visualizerBars.children;
                
                for (let i = 0; i < bars.length; i++) {
                    const value = dataArray[i * 4] || 0; // Skip more frequencies for performance
                    const height = Math.max(2, value / 2);
                    bars[i].style.height = `${height}px`;
                }
            } catch (e) {
                console.warn('Visualizer update error:', e);
            }
        }

        // Show error notification
        function showError(message) {
            perf.errors++;
            
            const errorEl = document.createElement('div');
            errorEl.className = 'error-notification';
            errorEl.innerHTML = `
                <i class="fas fa-exclamation-triangle"></i> ${message}
            `;
            document.body.appendChild(errorEl);
            
            setTimeout(() => {
                if (errorEl.parentNode) {
                    errorEl.parentNode.removeChild(errorEl);
                }
            }, 3000);
        }

        // Cleanup function to prevent memory leaks
        function cleanup() {
            // Clear intervals
            if (progressInterval) {
                clearInterval(progressInterval);
                progressInterval = null;
            }
            if (visualizerInterval) {
                clearInterval(visualizerInterval);
                visualizerInterval = null;
            }
            
            // Remove audio event listeners
            audio.removeEventListener('ended', handleAudioEnded);
            audio.removeEventListener('play', handleAudioPlay);
            audio.removeEventListener('pause', handleAudioPause);
            
            console.log('ðŸ§¹ Cleanup completed');
        }

        // Audio event handlers
        function handleAudioEnded() {
            if (appState.getState('player.isRepeating')) {
                audio.currentTime = 0;
                audio.play().catch(e => {
                    console.error('Error replaying audio:', e);
                    showError('Failed to replay audio');
                });
            } else {
                playNextTrack();
            }
        }

        function handleAudioPlay() {
            appState.setState('player.isPlaying', true);
            isPlaying = true;
            playBtn.innerHTML = '<i class="fas fa-pause"></i>';
            playBtn.classList.add('playing');
        }

        function handleAudioPause() {
            appState.setState('player.isPlaying', false);
            isPlaying = false;
            playBtn.innerHTML = '<i class="fas fa-play"></i>';
            playBtn.classList.remove('playing');
        }

        // Enhanced audio error handler
        function handleAudioError(e) {
            console.error('Audio error details:', {
                error: audio.error,
                code: audio.error ? audio.error.code : 'unknown',
                networkState: audio.networkState,
                readyState: audio.readyState,
                src: audio.src
            });
            
            let errorMessage = 'Audio playback error';
            
            if (audio.error) {
                switch(audio.error.code) {
                    case audio.error.MEDIA_ERR_ABORTED:
                        errorMessage = 'Audio loading was aborted';
                        break;
                    case audio.error.MEDIA_ERR_NETWORK:
                        errorMessage = 'Network error occurred';
                        break;
                    case audio.error.MEDIA_ERR_DECODE:
                        errorMessage = 'Audio decoding error';
                        break;
                    case audio.error.MEDIA_ERR_SRC_NOT_SUPPORTED:
                        errorMessage = 'Audio format not supported';
                        break;
                }
            }
            
            showError(errorMessage);
            perf.errors++;
        }

        function handleAudioLoaded() {
            console.log('âœ… Audio loaded successfully');
            durationEl.textContent = formatTime(audio.duration);
        }

        // Render albums grid
        function renderAlbums() {
            try {
                albumsGrid.innerHTML = '';
                
                albums.forEach(album => {
                    const musicCount = album.tracks.filter(t => t.type === 'music').length;
                    const videoCount = album.tracks.filter(t => t.type === 'video').length;
                    
                    const albumCard = document.createElement('div');
                    albumCard.className = 'album-card';
                    albumCard.innerHTML = `
                        <img src="${album.cover}" alt="${album.title}" class="album-cover">
                        <div class="album-info">
                            <h3 class="album-title">${album.title}</h3>
                            <div class="album-details">
                                <span>${album.year}</span>
                                <span>${calculateAlbumDuration(album.tracks)}</span>
                            </div>
                            <div class="album-stats">
                                <div class="stat">
                                    <i class="fas fa-music"></i>
                                    <span>${musicCount} tracks</span>
                                </div>
                                <div class="stat">
                                    <i class="fas fa-video"></i>
                                    <span>${videoCount} videos</span>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    albumCard.addEventListener('click', () => openAlbum(album));
                    albumsGrid.appendChild(albumCard);
                });
            } catch (error) {
                console.error('Error rendering albums:', error);
                showError('Failed to load albums');
            }
        }

        // Render all tracks across all albums
        function renderAllTracks() {
            try {
                allTracksContainer.innerHTML = '';
                let trackCount = 0;
                
                albums.forEach(album => {
                    const musicTracks = album.tracks.filter(t => t.type === 'music');
                    musicTracks.forEach(track => {
                        const trackCard = createContentCard(track, album);
                        trackCard.addEventListener('click', () => playMusic(track, album));
                        allTracksContainer.appendChild(trackCard);
                        trackCount++;
                    });
                });
                
                // Show search results count
                searchResultsCount.textContent = `Found ${trackCount} tracks`;
                searchResultsCount.style.display = 'block';
                
                allTracksContainer.style.display = 'grid';
                console.log(`ðŸŽµ Rendered ${trackCount} tracks`);
            } catch (error) {
                console.error('Error rendering tracks:', error);
                showError('Failed to load tracks');
            }
        }

        // Render all videos across all albums
        function renderAllVideos() {
            try {
                allVideosContainer.innerHTML = '';
                let videoCount = 0;
                
                albums.forEach(album => {
                    const videoTracks = album.tracks.filter(t => t.type === 'video');
                    videoTracks.forEach(track => {
                        const videoCard = createContentCard(track, album);
                        videoCard.addEventListener('click', () => playVideo(track, album));
                        allVideosContainer.appendChild(videoCard);
                        videoCount++;
                    });
                });
                
                // Show search results count
                searchResultsCount.textContent = `Found ${videoCount} videos`;
                searchResultsCount.style.display = 'block';
                
                allVideosContainer.style.display = 'grid';
                console.log(`ðŸŽ¥ Rendered ${videoCount} videos`);
            } catch (error) {
                console.error('Error rendering videos:', error);
                showError('Failed to load videos');
            }
        }

        // Helper function to create content cards
        function createContentCard(track, album) {
            const card = document.createElement('div');
            card.className = 'content-card';
            card.innerHTML = `
                <img src="${album.cover}" alt="${track.title}" class="content-cover">
                <div class="content-info">
                    <span class="content-type type-${track.type}">
                        ${track.type === 'music' ? 'ðŸŽµ Music' : 'ðŸŽ¥ Video'}
                    </span>
                    <h3 class="content-title">${track.title}</h3>
                    <div class="content-details">
                        <span>${album.title}</span>
                        <span>${track.duration}</span>
                    </div>
                </div>
            `;
            return card;
        }

        // Open album detail view
        function openAlbum(album) {
            try {
                currentAlbum = album;
                
                const musicCount = album.tracks.filter(t => t.type === 'music').length;
                const videoCount = album.tracks.filter(t => t.type === 'video').length;
                
                albumDetail.innerHTML = `
                    <div class="album-header">
                        <img src="${album.cover}" alt="${album.title}" class="detail-cover">
                        <div class="album-meta">
                            <button class="back-btn" id="backToAlbums">
                                <i class="fas fa-arrow-left"></i> Back to Albums
                            </button>
                            <h1 class="detail-title">${album.title}</h1>
                            <p class="detail-subtitle">${album.description}</p>
                            <div class="detail-stats">
                                <div class="detail-stat">${album.year}</div>
                                <div class="detail-stat">${musicCount} Songs</div>
                                <div class="detail-stat">${videoCount} Videos</div>
                                <div class="detail-stat">${calculateAlbumDuration(album.tracks)}</div>
                            </div>
                        </div>
                    </div>
                    <h2 style="margin: 30px 0 20px; color: var(--primary);">Album Content</h2>
                    <div class="content-grid" id="albumContentGrid">
                        ${album.tracks.map(track => `
                            <div class="content-card" data-track-id="${track.id}">
                                <img src="${album.cover}" alt="${track.title}" class="content-cover">
                                <div class="content-info">
                                    <span class="content-type type-${track.type}">
                                        ${track.type === 'music' ? 'ðŸŽµ Music' : 'ðŸŽ¥ Video'}
                                    </span>
                                    <h3 class="content-title">${track.title}</h3>
                                    <div class="content-details">
                                        <span>${track.duration}</span>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                // Add event listeners to album content
                album.tracks.forEach(track => {
                    const card = document.querySelector(`[data-track-id="${track.id}"]`);
                    if (card) {
                        card.addEventListener('click', () => handleAlbumContentClick(track, album));
                    }
                });
                
                // Add back button listener
                document.getElementById('backToAlbums').addEventListener('click', () => {
                    albumDetail.style.display = 'none';
                    albumsGrid.style.display = 'grid';
                    searchResultsCount.style.display = 'none';
                });
                
                albumsGrid.style.display = 'none';
                albumDetail.style.display = 'block';
                searchResultsCount.style.display = 'none';
            } catch (error) {
                console.error('Error opening album:', error);
                showError('Failed to open album');
            }
        }

        // Handle album content click (music or video)
        function handleAlbumContentClick(track, album) {
            if (track.type === 'music') {
                playMusic(track, album);
            } else {
                playVideo(track, album);
            }
        }

        // Enhanced Play music with Web Audio API and error handling
        function playMusic(track, album) {
            try {
                // Validate audio source
                if (!track.audioSrc) {
                    console.error('No audio source provided for track:', track.title);
                    showError('Audio source not available');
                    return;
                }
                
                // Update state
                appState.setState('player.currentTrack', track);
                appState.setState('player.currentAlbum', album);
                appState.setState('player.isPlaying', true);
                
                currentContent = track;
                currentAlbum = album;
                
                // Update player UI
                playerCover.src = album.cover;
                playerTitle.textContent = track.title;
                playerSubtitle.textContent = `From: ${album.title}`;
                playerDetails.textContent = track.duration;
                
                // Set current index
                const tracks = album.tracks.filter(t => t.type === 'music');
                currentContentIndex = tracks.findIndex(t => t.id === track.id);
                
                // Show player and visualizer
                playerContainer.style.display = 'block';
                playerContainer.classList.add('show');
                visualizerContainer.classList.add('active');
                
                // Scroll to player
                playerContainer.scrollIntoView({ behavior: 'smooth' });
                
                // Load track
                loadTrack();
                
                // Update playing indicators
                updatePlayingIndicators();
                
                console.log('ðŸŽµ Now playing:', track.title);
                perf.interactions++;
            } catch (error) {
                console.error('Error playing music:', error);
                showError('Failed to play audio');
            }
        }

        // Enhanced Play video with error handling
        function playVideo(track, album) {
            try {
                modalVideoTitle.textContent = `${track.title} - ${album.title}`;
                
                // Create Adilo embed
                videoContainer.innerHTML = `
                    <iframe src="${track.videoSrc}" 
                            allow="autoplay; fullscreen" 
                            allowfullscreen
                            style="width:100%;height:100%;border:none;">
                    </iframe>
                `;
                
                videoModal.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                console.log('ðŸŽ¥ Now playing video:', track.title);
                perf.interactions++;
            } catch (error) {
                console.error('Error playing video:', error);
                showError('Failed to play video');
            }
        }

        // Close video modal
        function closeVideoModal() {
            videoModal.classList.remove('active');
            document.body.style.overflow = 'auto';
            
            // Stop video playback
            const iframe = videoContainer.querySelector('iframe');
            if (iframe) {
                iframe.src = '';
            }
        }

        // Calculate total album duration
        function calculateAlbumDuration(tracks) {
            let totalSeconds = 0;
            
            tracks.forEach(track => {
                const parts = track.duration.split(':');
                totalSeconds += parseInt(parts[0]) * 60 + parseInt(parts[1]);
            });
            
            const minutes = Math.floor(totalSeconds / 60);
            return `${minutes} min`;
        }

        // Enhanced Load track with comprehensive error handling
        function loadTrack() {
            if (!currentContent) return;
            
            try {
                // Clear previous audio
                audio.pause();
                audio.src = '';
                audio.load();
                
                // Reset audio element
                audio = new Audio();
                
                // Set up event listeners for the new audio element
                audio.addEventListener('play', handleAudioPlay);
                audio.addEventListener('pause', handleAudioPause);
                audio.addEventListener('ended', handleAudioEnded);
                audio.addEventListener('error', handleAudioError);
                audio.addEventListener('loadeddata', handleAudioLoaded);
                
                // Set crossOrigin for CORS
                audio.crossOrigin = 'anonymous';
                
                // Set the source
                audio.src = currentContent.audioSrc;
                
                // Preload the audio
                audio.preload = 'metadata';
                
                // Reset progress
                progress.style.width = '0%';
                currentTimeEl.textContent = '0:00';
                durationEl.textContent = currentContent.duration;
                
                console.log('ðŸŽµ Loading track:', currentContent.audioSrc);
                
                // Test if the audio file is accessible
                testAudioAccessibility(currentContent.audioSrc);
                
            } catch (error) {
                console.error('Error loading track:', error);
                showError('Failed to load audio file');
            }
        }

        // Test if audio file is accessible
        function testAudioAccessibility(url) {
            fetch(url, { method: 'HEAD' })
                .then(response => {
                    if (response.ok) {
                        console.log('âœ… Audio file is accessible');
                    } else {
                        console.error('âŒ Audio file not accessible:', response.status);
                        showError('Audio file not found on server');
                    }
                })
                .catch(error => {
                    console.error('âŒ Network error accessing audio:', error);
                    showError('Network error - cannot access audio file');
                });
        }

        // Enhanced Play track with better error handling
        function playTrack() {
            if (!currentContent) {
                showError('No track selected');
                return;
            }
            
            try {
                // Resume AudioContext on first user interaction
                if (audioContext && audioContext.state === 'suspended') {
                    audioContext.resume().then(() => {
                        console.log('AudioContext resumed successfully');
                        setupAudioNodes();
                        actuallyPlayTrack();
                    }).catch(e => {
                        console.error('Error resuming AudioContext:', e);
                        actuallyPlayTrack(); // Fallback to playing without Web Audio API
                    });
                } else {
                    actuallyPlayTrack();
                }
            } catch (error) {
                console.error('Error in playTrack:', error);
                showError('Failed to play audio');
            }
        }

        function actuallyPlayTrack() {
            audio.play().then(() => {
                appState.setState('player.isPlaying', true);
                isPlaying = true;
                
                playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                playBtn.classList.add('playing');
                
                // Start updating progress and visualizer
                progressInterval = setInterval(updateProgress, 500);
                visualizerInterval = setInterval(updateVisualizer, 50);
                
                console.log('â–¶ï¸ Now playing:', currentContent.title);
            }).catch(error => {
                console.error('Play failed:', error);
                showError('Failed to play audio: ' + error.message);
                appState.setState('player.isPlaying', false);
                isPlaying = false;
            });
        }

        // Enhanced Pause track with cleanup
        function pauseTrack() {
            try {
                appState.setState('player.isPlaying', false);
                isPlaying = false;
                audio.pause();
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
                playBtn.classList.remove('playing');
                
                // Stop updating progress and visualizer
                if (progressInterval) {
                    clearInterval(progressInterval);
                    progressInterval = null;
                }
                if (visualizerInterval) {
                    clearInterval(visualizerInterval);
                    visualizerInterval = null;
                }
            } catch (error) {
                console.error('Error pausing track:', error);
            }
        }

        // Update progress bar
        function updateProgress() {
            if (audio.duration) {
                const percent = (audio.currentTime / audio.duration) * 100;
                progress.style.width = `${percent}%`;
                currentTimeEl.textContent = formatTime(audio.currentTime);
            }
        }

        // Format time (seconds to MM:SS)
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // Next/Previous track functionality
        function getCurrentTrackList() {
            if (!currentAlbum) return [];
            return currentAlbum.tracks.filter(track => track.type === 'music');
        }

        function playNextTrack() {
            const tracks = getCurrentTrackList();
            if (tracks.length === 0) return;
            
            if (isShuffled) {
                currentContentIndex = Math.floor(Math.random() * tracks.length);
            } else {
                currentContentIndex = (currentContentIndex + 1) % tracks.length;
            }
            
            const nextTrack = tracks[currentContentIndex];
            playMusic(nextTrack, currentAlbum);
        }

        function playPreviousTrack() {
            const tracks = getCurrentTrackList();
            if (tracks.length === 0) return;
            
            currentContentIndex = (currentContentIndex - 1 + tracks.length) % tracks.length;
            const prevTrack = tracks[currentContentIndex];
            playMusic(prevTrack, currentAlbum);
        }

        // Update playing indicators
        function updatePlayingIndicators() {
            // Remove all existing indicators
            document.querySelectorAll('.playing-indicator').forEach(indicator => {
                indicator.remove();
            });
            
            // Add indicator to currently playing track
            if (currentContent && currentContent.type === 'music') {
                const currentCard = document.querySelector(`[data-track-id="${currentContent.id}"]`);
                if (currentCard) {
                    const indicator = document.createElement('div');
                    indicator.className = 'playing-indicator';
                    indicator.innerHTML = '<i class="fas fa-play"></i>';
                    currentCard.appendChild(indicator);
                }
            }
        }

        // Enhanced search function
        function handleSearch(term) {
            term = term.toLowerCase();
            let resultCount = 0;
            
            if (currentView === 'albums') {
                document.querySelectorAll('.album-card').forEach(album => {
                    const title = album.querySelector('.album-title').textContent.toLowerCase();
                    const shouldShow = title.includes(term);
                    album.style.display = shouldShow ? 'block' : 'none';
                    if (shouldShow) resultCount++;
                });
                
                // Show/hide empty state
                if (resultCount === 0 && term) {
                    emptyState.style.display = 'block';
                    albumsGrid.style.display = 'none';
                } else {
                    emptyState.style.display = 'none';
                    albumsGrid.style.display = 'grid';
                }
            } else if (currentView === 'tracks') {
                document.querySelectorAll('#allTracksContainer .content-card').forEach(card => {
                    const title = card.querySelector('.content-title').textContent.toLowerCase();
                    const albumName = card.querySelector('.content-details span:first-child').textContent.toLowerCase();
                    const shouldShow = title.includes(term) || albumName.includes(term);
                    card.style.display = shouldShow ? 'block' : 'none';
                    if (shouldShow) resultCount++;
                });
            } else if (currentView === 'videos') {
                document.querySelectorAll('#allVideosContainer .content-card').forEach(card => {
                    const title = card.querySelector('.content-title').textContent.toLowerCase();
                    const albumName = card.querySelector('.content-details span:first-child').textContent.toLowerCase();
                    const shouldShow = title.includes(term) || albumName.includes(term);
                    card.style.display = shouldShow ? 'block' : 'none';
                    if (shouldShow) resultCount++;
                });
            }
            
            // Update search results count
            if (term) {
                searchResultsCount.textContent = `Found ${resultCount} ${currentView}`;
                searchResultsCount.style.display = 'block';
            } else {
                searchResultsCount.style.display = 'none';
            }
        }

        // Set view - Enhanced with spatial transitions
        function setView(view) {
            console.log('ðŸ”„ Switching to view:', view);
            
            appState.setState('ui.currentView', view);
            currentView = view;
            
            // Hide all sections first
            albumsGrid.style.display = 'none';
            albumDetail.style.display = 'none';
            allTracksContainer.style.display = 'none';
            allVideosContainer.style.display = 'none';
            emptyState.style.display = 'none';
            searchResultsCount.style.display = 'none';
            
            // Update active button
            albumsViewBtn.classList.toggle('active', view === 'albums');
            allTracksViewBtn.classList.toggle('active', view === 'tracks');
            allVideosViewBtn.classList.toggle('active', view === 'videos');
            
            // Show selected view
            switch(view) {
                case 'albums':
                    albumsGrid.style.display = 'grid';
                    break;
                case 'tracks':
                    renderAllTracks();
                    break;
                case 'videos':
                    renderAllVideos();
                    break;
            }
            
            // Clear search when switching views
            searchBox.value = '';
        }

        // Voice control functionality
        function setupVoiceControl() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            
            if (!SpeechRecognition) {
                console.warn('Speech recognition not supported');
                voiceControl.style.display = 'none';
                return;
            }
            
            const recognition = new SpeechRecognition();
            recognition.continuous = false;
            recognition.interimResults = false;
            
            voiceControl.addEventListener('click', () => {
                if (voiceControl.classList.contains('listening')) {
                    recognition.stop();
                    voiceControl.classList.remove('listening');
                } else {
                    recognition.start();
                    voiceControl.classList.add('listening');
                }
            });
            
            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript.toLowerCase();
                console.log('Voice command:', transcript);
                
                // Handle voice commands
                handleVoiceCommand(transcript);
                
                voiceControl.classList.remove('listening');
            };
            
            recognition.onerror = () => {
                voiceControl.classList.remove('listening');
            };
        }

        // Handle voice commands
        function handleVoiceCommand(command) {
            if (command.includes('play') || command.includes('start')) {
                if (!isPlaying && currentContent) {
                    playTrack();
                }
            } else if (command.includes('pause') || command.includes('stop')) {
                if (isPlaying) {
                    pauseTrack();
                }
            } else if (command.includes('next')) {
                playNextTrack();
            } else if (command.includes('previous') || command.includes('back')) {
                playPreviousTrack();
            } else if (command.includes('shuffle')) {
                const isShuffled = appState.getState('player.isShuffled');
                appState.setState('player.isShuffled', !isShuffled);
                shufflePlayerBtn.classList.toggle('active', !isShuffled);
            } else if (command.includes('search')) {
                const searchTerm = command.replace('search', '').trim();
                if (searchTerm) {
                    searchBox.value = searchTerm;
                    handleSearch(searchTerm);
                }
            }
        }

        // Setup event listeners
        function setupEventListeners() {
            console.log('ðŸ”§ Setting up event listeners...');
            
            // Track user interactions
            document.addEventListener('click', () => {
                perf.interactions++;
            });
            
            // Play/Pause button
            playBtn.addEventListener('click', () => {
                if (!currentContent) {
                    showError('No content selected');
                    return;
                }
                
                if (isPlaying) {
                    pauseTrack();
                } else {
                    playTrack();
                }
            });
            
            // Shuffle button
            shufflePlayerBtn.addEventListener('click', () => {
                const isShuffled = appState.getState('player.isShuffled');
                appState.setState('player.isShuffled', !isShuffled);
                shufflePlayerBtn.classList.toggle('active', !isShuffled);
                shufflePlayerBtn.style.color = !isShuffled ? 'var(--secondary)' : '';
            });
            
            // Repeat button
            repeatBtn.addEventListener('click', () => {
                const isRepeating = appState.getState('player.isRepeating');
                appState.setState('player.isRepeating', !isRepeating);
                repeatBtn.classList.toggle('active', !isRepeating);
                repeatBtn.style.color = !isRepeating ? 'var(--secondary)' : '';
            });
            
            // Progress bar click
            progressBar.addEventListener('click', (e) => {
                if (!audio.duration) return;
                
                const rect = progressBar.getBoundingClientRect();
                const percent = (e.clientX - rect.left) / rect.width;
                audio.currentTime = percent * audio.duration;
            });
            
            // Volume slider
            volumeSlider.addEventListener('input', () => {
                appState.setState('player.volume', volumeSlider.value);
                audio.volume = volumeSlider.value / 100;
            });
            
            // Setup audio event listeners
            audio.addEventListener('play', handleAudioPlay);
            audio.addEventListener('pause', handleAudioPause);
            audio.addEventListener('ended', handleAudioEnded);

            audio.addEventListener('error', (e) => {
                console.error('Audio error:', e);
                showError('Audio playback error');
                perf.errors++;
            });
            
            // View toggle buttons
            albumsViewBtn.addEventListener('click', () => {
                setView('albums');
            });
            
            allTracksViewBtn.addEventListener('click', () => {
                setView('tracks');
            });
            
            allVideosViewBtn.addEventListener('click', () => {
                setView('videos');
            });
            
            // Search functionality
            searchBox.addEventListener('input', (e) => {
                handleSearch(e.target.value);
            });
            
            // Shuffle albums
            shuffleBtn.addEventListener('click', () => {
                const albumsArray = Array.from(albumsGrid.children);
                for (let i = albumsArray.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    albumsGrid.appendChild(albumsArray[j]);
                }
            });
            
            // Close modal
            closeModal.addEventListener('click', closeVideoModal);
            
            // Close modal when clicking outside
            videoModal.addEventListener('click', (e) => {
                if (e.target === videoModal) {
                    closeVideoModal();
                }
            });
            
            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && videoModal.classList.contains('active')) {
                    closeVideoModal();
                }
            });
            
            // Next/Previous track buttons
            nextBtn.addEventListener('click', playNextTrack);
            prevBtn.addEventListener('click', playPreviousTrack);

            // Voice control
            setupVoiceControl();

            // Add parallax effect to spatial background
            document.addEventListener('mousemove', (e) => {
                const x = e.clientX / window.innerWidth;
                const y = e.clientY / window.innerHeight;
                
                const parallaxBg = document.querySelector('.parallax-bg');
                if (parallaxBg) {
                    parallaxBg.style.transform = `translateZ(-100px) scale(2) translate(${x * 20}px, ${y * 20}px)`;
                }
            });

            // Setup cleanup on page unload
            window.addEventListener('beforeunload', cleanup);

            console.log('âœ… All event listeners attached!');
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('âœ… DOM fully loaded');
            setTimeout(init, 500);
        });

        // Add pull to refresh functionality
        let startY = 0;
        let currentY = 0;

        document.addEventListener('touchstart', e => {
            startY = e.touches[0].clientY;
        });

        document.addEventListener('touchmove', e => {
            currentY = e.touches[0].clientY;
            const pullToRefresh = document.getElementById('pullToRefresh');
            
            if (window.scrollY === 0 && currentY > startY) {
                const pullDistance = currentY - startY;
                if (pullDistance > 50) {
                    pullToRefresh.classList.add('active');
                }
            }
        });

        document.addEventListener('touchend', () => {
            const pullToRefresh = document.getElementById('pullToRefresh');
            if (pullToRefresh.classList.contains('active')) {
                setTimeout(() => {
                    pullToRefresh.classList.remove('active');
                    // Refresh content
                    renderAlbums();
                }, 1000);
            }
        });
    </script>
</body>
</html>
